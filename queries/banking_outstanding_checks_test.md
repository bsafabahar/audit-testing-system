# مستندات آزمون چک‌های معلق

## نام آزمون
**آزمون شناسایی چک‌های معلق** (Outstanding Checks Test)

## هدف و کاربرد در حسابرسی

### چرا از این آزمون استفاده می‌کنیم؟
چک‌های معلق (چک‌هایی که صادر شده‌اند اما هنوز وصول نشده‌اند) می‌توانند نشانه‌ای از مشکلات جدی باشند:
- **چک‌های جعلی:** چک‌هایی که هرگز قصد وصول آنها نبوده
- **مشکلات نقدینگی:** گیرنده نمی‌تواند یا نمی‌خواهد چک را وصول کند
- **چک‌های فراموش شده:** چک‌های از دست رفته یا فراموش شده
- **دستکاری در تطبیق بانکی:** استفاده از چک‌های معلق برای پنهان کردن کسری

**در حسابرسی از این آزمون برای:**
- **تطبیق بانکی:** بررسی دقیق اقلام معلق
- **شناسایی چک‌های قدیمی:** یافتن چک‌هایی که طولانی معلق مانده‌اند
- **کشف تقلب:** شناسایی چک‌های جعلی یا check kiting
- **مدیریت نقدینگی:** پیگیری چک‌های وصول نشده

### کاربردهای عملی:
- تطبیق حساب‌های بانکی
- پیگیری چک‌های پرداخت نشده
- بررسی سلامت روابط با تامین‌کنندگان
- شناسایی مشکلات نقدینگی

## پارامترهای ورودی

### 1. روزهای معلق (daysOutstanding)
- **نوع:** عدد (Number)
- **مقدار پیش‌فرض:** 60 روز
- **توضیح:** حداقل تعداد روزهایی که یک چک باید معلق مانده باشد تا در نتایج نمایش داده شود
- **مفهوم:**
  - 30 روز: حساسیت بالا - تمام چک‌های بیش از 1 ماه
  - 60 روز: استاندارد - چک‌های بیش از 2 ماه
  - 90 روز: فقط چک‌های بسیار قدیمی
  - 180 روز: چک‌های بحرانی (معمولاً باطل می‌شوند)
- **توصیه:** برای شروع از 60 روز استفاده کنید

## ستون‌های خروجی

### 1. CheckNumber (شماره چک)
- شماره منحصر به فرد چک

### 2. IssueDate (تاریخ صدور)
- تاریخی که چک صادر شده است

### 3. Amount (مبلغ)
- مبلغ چک

### 4. Payee (گیرنده)
- نام شخص یا شرکتی که چک به نام او صادر شده
- اگر موجود نباشد: خالی

### 5. DaysOutstanding (روزهای معلق)
- تعداد روزهایی که از صدور چک گذشته و هنوز وصول نشده
- محاسبه: تاریخ امروز - تاریخ صدور

### 6. Status (وضعیت)
- وضعیت فعلی چک:
  - `Issued`: صادر شده
  - `Outstanding`: معلق
  - `Pending`: در انتظار

### 7. AccountNumber (شماره حساب)
- شماره حساب بانکی که چک از آن صادر شده
- اگر موجود نباشد: خالی

## نحوه انجام آزمون

### مراحل اجرا:

1. **دریافت داده‌ها:**
   - تمام تراکنش‌ها از پایگاه داده خوانده می‌شوند

2. **فیلتر چک‌ها:**
   - فقط تراکنش‌هایی که:
     - دارای شماره چک هستند
     - وضعیت آنها "Issued", "Outstanding" یا "Pending" است

3. **محاسبه روزهای معلق:**
   - برای هر چک:
     ```
     روزهای معلق = تاریخ امروز - تاریخ صدور چک
     ```

4. **فیلتر بر اساس آستانه:**
   ```
   اگر روزهای معلق ≥ آستانه تعیین شده:
       چک را در نتایج قرار بده
   ```

5. **استخراج اطلاعات:**
   - شماره چک
   - تاریخ صدور
   - مبلغ (بدهکار یا بستانکار)
   - نام گیرنده
   - شماره حساب

6. **مرتب‌سازی:**
   - نتایج بر اساس روزهای معلق (بالا به پایین) مرتب می‌شوند
   - قدیمی‌ترین چک‌ها در ابتدای لیست

## تفسیر نتایج

### سطوح روزهای معلق:

#### 60-90 روز - نیاز به پیگیری
- **ویژگی‌ها:**
  - 2-3 ماه معلق
  - ممکن است طبیعی باشد
- **احتمالات:**
  - تاخیر در پست
  - گیرنده هنوز وصول نکرده
  - چک گم شده
- **سطح ریسک:** متوسط
- **اقدام:** تماس با گیرنده برای پیگیری

#### 90-180 روز - مشکوک
- **ویژگی‌ها:**
  - 3-6 ماه معلق
  - غیرعادی است
- **احتمالات:**
  - گیرنده نمی‌خواهد وصول کند
  - چک جعلی
  - مشکل در ارسال
  - دستکاری در دفاتر
- **سطح ریسک:** بالا
- **اقدام:** تحقیق فوری و لغو چک

#### 180+ روز - بحرانی
- **ویژگی‌ها:**
  - بیش از 6 ماه معلق
  - معمولاً چک‌ها بعد از 6 ماه باطل می‌شوند
- **احتمالات:**
  - چک جعلی یا ساختگی
  - استفاده برای دستکاری در تطبیق بانکی
  - گیرنده وجود ندارد
- **سطح ریسک:** بسیار بالا
- **اقدام:** لغو فوری و تحقیق دقیق

### علائم خطر (Red Flags):

1. **چک‌های معلق با مبالغ بزرگ:**
   - مبلغ بالا + معلق طولانی
   - احتمال چک جعلی برای تطبیق موقت

2. **چک‌های بدون نام گیرنده:**
   - گیرنده مشخص نیست
   - احتمال چک ساختگی

3. **چک‌های متعدد به یک گیرنده:**
   - چند چک معلق به یک شخص
   - احتمال مشکل در روابط یا تقلب

4. **چک‌های صادره در پایان دوره مالی:**
   - صادر شده در روزهای آخر سال
   - احتمال window dressing (زیبا‌سازی صورت‌های مالی)

## مثال عملی

### سناریو:
بررسی چک‌های معلق یک شرکت تولیدی در تطبیق سالانه

### تنظیمات:
- daysOutstanding: 60

### نتیجه نمونه:
```
شماره چک | تاریخ صدور | مبلغ        | گیرنده              | روزهای معلق | وضعیت     | حساب
1001      | 2023-09-15 | 50,000,000  | شرکت ABC            | 245          | Outstanding| 1234567
1025      | 2023-11-20 | 15,000,000  | نامشخص              | 170          | Issued     | 1234567
1050      | 2024-01-10 | 30,000,000  | علی رضایی            | 110          | Pending    | 1234567
1080      | 2024-02-25 | 8,000,000   | شرکت پارس تجارت    | 65           | Outstanding| 1234567
```

### تحلیل:

1. **چک 1001 (245 روز - بحرانی):**
   - بیش از 8 ماه معلق
   - مبلغ قابل توجه: 50M
   - **اقدام فوری:**
     - چرا این چک وصول نشده؟
     - آیا شرکت ABC واقعی است؟
     - این چک را فوراً لغو کنید
     - از دفاتر حذف و تعدیل ثبت کنید

2. **چک 1025 (170 روز - بحرانی):**
   - بیش از 5 ماه معلق
   - گیرنده نامشخص ✗
   - **بسیار مشکوک:**
     - احتمالاً چک جعلی
     - بررسی چه کسی این چک را صادر کرده
     - لغو فوری

3. **چک 1050 (110 روز - مشکوک):**
   - حدود 4 ماه معلق
   - **اقدام:**
     - تماس با علی رضایی
     - دلیل عدم وصول چیست؟
     - در صورت نیاز، چک جدید صادر کنید

4. **چک 1080 (65 روز - پیگیری معمول):**
   - کمی بیش از 2 ماه
   - **اقدام:**
     - تماس با شرکت پارس تجارت
     - پیگیری معمول

### اقدامات تحقیقاتی:

**برای چک‌های بحرانی (1001 و 1025):**
1. بررسی مجوز صدور چک
2. تایید امضاها
3. جستجوی گیرنده
4. بررسی مکاتبات
5. لغو چک در بانک
6. ثبت تعدیل حسابداری
7. گزارش به مدیریت

## نکات مهم

### محدودیت‌ها:
- ❌ نمی‌تواند علت معلق ماندن را تشخیص دهد
- ❌ در صنایعی که پرداخت با چک کم است، کاربرد محدود
- ❌ نیاز به تایید دستی با بانک دارد

### بهترین کاربردها:
- ✅ تطبیق بانکی ماهانه و سالانه
- ✅ بررسی کنترل‌های داخلی
- ✅ شناسایی تقلب در پرداخت‌ها
- ✅ مدیریت نقدینگی

### توصیه‌ها:
1. **پیگیری منظم:**
   - ماهانه چک‌های بالای 60 روز را بررسی کنید
   - سه‌ماهه چک‌های بالای 90 روز را لغو کنید

2. **مستندسازی:**
   - دلیل صدور هر چک را ثبت کنید
   - مکاتبات با گیرندگان را نگه دارید
   - تاریخ لغو را یادداشت کنید

3. **خط‌مشی واضح:**
   - تعیین حداکثر مدت معلق ماندن
   - رویه لغو و صدور مجدد
   - تایید دوسطحی برای چک‌های بزرگ

4. **ترکیب با تطبیق بانکی:**
   - مقایسه با صورت‌حساب بانک
   - تطبیق با اسناد پرداخت

### اقدامات پیشگیرانه:
- **کنترل صدور چک:**
  - ثبت دقیق گیرنده
  - شماره‌گذاری منظم
  - تایید چندسطحی

- **پیگیری فعال:**
  - یادآوری به گیرندگان
  - پیگیری چک‌های بالای 30 روز
  - لغو به موقع چک‌های قدیمی

- **جایگزین‌های بهتر:**
  - استفاده از انتقال الکترونیکی
  - پرداخت مستقیم به حساب
  - کاهش استفاده از چک

## ارتباط با سایر آزمون‌ها

- **آزمون تطبیق بانکی:** چک‌های معلق بخش مهمی از تطبیق هستند
- **آزمون check kiting:** چک‌های معلق مشکوک ممکن است بخشی از kiting باشند
- **آزمون فروشندگان جعلی:** چک‌های به فروشندگان جعلی معمولاً معلق می‌مانند
- **آزمون پرداخت‌های تکراری:** چک‌های معلق ممکن است به دلیل پرداخت تکراری باشند

## فرآیند لغو چک معلق

### مراحل لغو:
1. **بررسی اولیه:**
   - [ ] تایید مدت معلق بودن
   - [ ] بررسی مدارک صدور
   - [ ] تماس با گیرنده

2. **تصمیم‌گیری:**
   - [ ] آیا چک قانونی است؟
   - [ ] آیا باید لغو شود؟
   - [ ] آیا باید مجدداً صادر شود؟

3. **لغو:**
   - [ ] درخواست stop payment از بانک
   - [ ] دریافت تاییدیه لغو
   - [ ] ثبت در دفاتر

4. **تعدیل حسابداری:**
   ```
   بدهکار: حساب‌های پرداختنی (یا حساب مربوطه)
   بستانکار: چک‌های پرداختنی
   ```

5. **مستندسازی:**
   - علت لغو
   - تاریخ لغو
   - مکاتبات مربوطه
