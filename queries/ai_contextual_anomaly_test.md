# آزمون شناسایی ناهنجاری‌های زمینه‌ای
# Contextual Anomaly Detection

## توضیحات
این آزمون ناهنجاری‌ها را در زمینه خاص هر حساب شناسایی می‌کند. یک مبلغ ممکن است در یک حساب عادی باشد اما در حساب دیگر غیرعادی.

### روش کار
1. تراکنش‌ها را بر اساس کد حساب گروه‌بندی می‌کند
2. برای هر حساب، میانگین و انحراف معیار را محاسبه می‌کند
3. تراکنش‌هایی که بیش از N انحراف معیار (سیگما) از میانگین حساب خود فاصله دارند را شناسایی می‌کند

### مزایا
- **زمینه‌محور**: هر حساب معیار خاص خود را دارد
- **تطبیق‌پذیر**: با الگوهای مختلف حساب‌ها سازگار است
- **دقیق**: ناهنجاری‌های واقعی را از تفاوت‌های طبیعی بین حساب‌ها تشخیص می‌دهد

### پارامترها
- **columnName**: نام ستون برای آزمون (Debit یا Credit)
- **sigmaThreshold**: آستانه انحراف معیار (پیش‌فرض: 3.0 سیگما)
- **minTransactionsPerAccount**: حداقل تعداد تراکنش در حساب برای تحلیل (پیش‌فرض: 5)

### خروجی
برای هر تراکنش ناهنجار:
- مبلغ تراکنش و اطلاعات حساب
- میانگین و انحراف معیار حساب
- انحراف از میانگین
- تعداد سیگما (چند برابر انحراف معیار)
- نوع ناهنجاری (بالا/پایین، شدت)

### انواع ناهنجاری
- **بسیار بالا (>5σ)**: بیش از 5 انحراف معیار بالاتر از میانگین
- **خیلی بالا (>4σ)**: بین 4 تا 5 انحراف معیار بالاتر از میانگین
- **بالا (>3σ)**: بین 3 تا 4 انحراف معیار بالاتر از میانگین
- **بسیار پایین (>5σ)**: بیش از 5 انحراف معیار پایین‌تر از میانگین
- **خیلی پایین (>4σ)**: بین 4 تا 5 انحراف معیار پایین‌تر از میانگین
- **پایین (>3σ)**: بین 3 تا 4 انحراف معیار پایین‌تر از میانگین

### کاربردها
- شناسایی تراکنش‌های غیرعادی در حساب‌های خاص
- تشخیص اشتباهات ورود داده
- یافتن تراکنش‌های مشکوک به تقلب
- کنترل کیفیت داده‌های مالی

### نیازمندی‌ها
- حداقل 5 تراکنش در هر حساب برای تحلیل آماری معتبر
- داده‌های مبلغ باید عددی و مثبت باشند

### نکات
- این آزمون ترکیبی از روش‌های آماری و هوش مصنوعی است
- برای حساب‌هایی که تراکنش کمی دارند اعمال نمی‌شود
- سیگمای 3 در آمار به معنای 99.7% اطمینان است که تراکنش غیرعادی است
